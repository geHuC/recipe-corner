<div class="form-container">
    <h1>Register</h1>
    <form #register="ngForm" name="regiserForm" (ngSubmit)="onSubmit()" [formGroup]="form">
        <div class="input-group">
            <label for="username">Username</label>
            <input class="form-input" [ngClass]="classes('username')" type="text" name="username"
                formControlName="username">
            <div class="alert-box" *ngIf="f['username'].errors && (f['username'].touched || submitted)">
                <div *ngIf="f['username'].errors['required']">
                    Username is required.
                </div>
                <div *ngIf="f['username'].errors['minlength']">
                    Username must be at least 5 characters long.
                </div>
                <div *ngIf="f['username'].errors['pattern']">
                    Username can only contain alphanumeric symbols and undescore!
                </div>
            </div>
            <div class="alert-box" *ngIf="serverErrorMsg['username']">
                <div *ngIf="serverErrorMsg['username']">
                    {{serverErrorMsg['username']}}
                </div>
            </div>
        </div>
        <div class="input-group">
            <label for="email">Email</label>
            <input class="form-input" [ngClass]="classes('email')" type="email" name="email" formControlName="email">
            <div class="alert-box" *ngIf="f['email'].errors && (f['email'].touched || submitted)">
                <div *ngIf="f['email'].errors['required']">
                    Email is required.
                </div>
                <div *ngIf="f['email'].errors['email']">
                    Please enter a valid Email adress.
                </div>
            </div>
            <div class="alert-box" *ngIf="serverErrorMsg['email']">
                <div *ngIf="serverErrorMsg['email']">
                    {{serverErrorMsg['email']}}
                </div>
            </div>
        </div>
        <div class="input-group">
            <label for="password">Password</label>
            <input class="form-input" [ngClass]="classes('password')" type="password" name="password"
                formControlName="password">
            <div class="alert-box" *ngIf="f['password'].errors && (f['password'].touched || submitted)">
                <div *ngIf="f['password'].errors['required']">
                    Password is required.
                </div>
                <div *ngIf="f['password'].errors['minlength']">
                    Password should be atleast 8 characters long
                </div>
            </div>
        </div>
        <div class="input-group">
            <label for="password">Repeat Password</label>
            <input class="form-input" [ngClass]="classes('repeatPassword')" type="password" name="repeatPassword"
                formControlName="repeatPassword">
            <div class="alert-box" *ngIf="form.errors?.['matching'] && (f['password'].touched || submitted)">
                Passwords do not match.
            </div>
        </div>
        <button>Submit</button>
    </form>
</div>